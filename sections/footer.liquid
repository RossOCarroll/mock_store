<footer class="bg-gray-800 text-white">
  <div class="max-w-7xl mx-auto px-4 py-6">
    <nav class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
      {% for link in footer_menu_linklist %}
        {% if link.links != blank %}
          {% assign link_handle = link.handle | replace: '-', '_' %}
          <div class="relative" x-data="{ {{ link_handle }}: false }">
            <button type="button" x-on:click="{{ link_handle }} = ! {{ link_handle }}" class="text-base text-white uppercase">
              {{ link.title }}
              {% render 'icon-dropdown' %}
            </button>

            <div
              x-transition:enter="transition ease-out duration-300"
              x-transition:enter-start="opacity-0 translate-y-3"
              x-transition:enter-end="opacity-100 translate-y-0"
              x-transition:leave="transition ease-out duration-300"
              x-transition:leave-start="opacity-100 translate-y-0"
              x-transition:leave-end="opacity-0 translate-y-3"
              x-show="{{ link_handle }}" @click.away="{{ link_handle }} = false"
              class="absolute z-10 mt-5 transform px-2 w-screen max-w-md sm:px-0 lg:left-0"
            >
              <div class="shadow-lg border ring-black ring-opacity-5 overflow-hidden rounded-lg">
                <div class="relative grid gap-6 bg-gray-900 px-5 py-6 sm:gap-8 sm:p-8">
                  {% for childlink in link.links %}
                    <a href="{{ childlink.url }}" class="text-white hover:bg-gray-700 p-3 flex items-start rounded-lg">
                      <div class="ml-4">
                        <p class="text-base uppercase">{{ childlink.title }}</p>
                      </div>
                    </a>
                  {% endfor %}
                </div>
              </div>
            </div>
          </div>
        {% else %}
          <a href="{{ link.url }}" class="text-base text-white hover:text-gray-400 uppercase">{{ link.title }}</a>
        {% endif %}
      {% endfor %}
    </nav>
  </div>
</footer>

{% schema %}
{
  "name": "Footer",
  "settings": [
    {
      "type": "link_list",
      "id": "footer_menu",
      "label": "Footer Navigation Menu"
    }
  ]
}
{% endschema %}
